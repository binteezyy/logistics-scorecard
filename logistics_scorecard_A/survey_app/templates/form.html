{% extends "base.html" %}

{% block add_script %}
<script>
    $(document).ready(function () {
        $(".radi").click(function () {
            var total = 0;
            $(".radi:checked").each(function () { total += +this.value; });
            $("#total").val(total);
        });
    });

</script>


{% endblock add_script %}

{% block form %}
<form action="#" method="POST">
    {% csrf_token %}
    <table class="table table-striped table-hover table-bordered">
        <thead class="thead-dark text-center h5 ">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Question</th>
                <th scope="col">Weight</th>
                <th scope="col">Rating</th>
                <th scope="col">Value</th>
                <th scope="col">Feedback</th>

            </tr>
        </thead>
        {% for question in questions %}
        <script>
            function changeThis() {
                document.getElementById('total').innerHTML = document.getElementByName('optradio1').val();
            }
        </script>


        <tbody>
            <tr class="h6">
                <th class="text-center"> {{question.pk}} </th>
                <!-- <td class="text-left">Are you satisfied?Are you satisfied?Are you satisfied?Are you
                        satisfied?Are you
                        satisfied?Are you satisfied?</td> -->
                <td class="text-left"> {{ question.question_string }}</td>
                <td class="text-center"> {{ question.multiplier }} </td>
                <td class="text-center">
                    <div class="form-check custom-control-inline">
                        <label class="form-check-label">
                            <input value="1" type="radio" class="form-check-input radi" name="optradio{{question.pk}}"
                                onclick="document.getElementById('{{question.pk}}').innerHTML=0.1; changeThis();">1
                        </label>
                    </div>
                    <div class=" form-check custom-control-inline">
                        <label class="form-check-label">
                            <input value="2" type="radio" class="form-check-input radi" name="optradio{{question.pk}}"
                                onclick="document.getElementById('{{question.pk}}').innerHTML=0.2; addTotal()">2
                        </label>
                    </div>
                    <div class="form-check custom-control-inline">
                        <label class="form-check-label">
                            <input value="3" type="radio" class="form-check-input radi" name="optradio{{question.pk}}"
                                onclick="document.getElementById('{{question.pk}}').innerHTML=0.3; addTotal()">3
                        </label>
                    </div>
                    <div class="form-check custom-control-inline">
                        <label class="form-check-label">
                            <input value="4" type="radio" class="form-check-input radi" name="optradio{{question.pk}}"
                                onclick="document.getElementById('{{question.pk}}').innerHTML=0.4; addTotal()">4
                        </label>
                    </div>
                    <div class="form-check custom-control-inline">
                        <label class="form-check-label">
                            <input value="0" type="radio" class="form-check-input radi" name="optradio{{question.pk}}"
                                onclick="document.getElementById('{{question.pk}}').innerHTML=' ';"> NA
                        </label>
                    </div>
                </td>
                <td class=" text-center" id="{{question.pk}}">
                </td>
                <td></td>
            </tr>
            {% endfor %}
            <tr class="h6">
                <td></td>
                <td></td>
                <td></td>
                <td>
                    Total:
                </td>
                <td>
                    <input type="text" name="total" id="total" />
                </td>
                <td>
                </td>
            </tr>
        </tbody>
    </table>

</form>
{% endblock form %}